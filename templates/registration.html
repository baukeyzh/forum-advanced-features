
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css" media="screen">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>FORUM</title>

</head>

<body>
  <!-- Navigation bar -->
  <header class="header">
      <!-- Logo -->
      <a href="/registration" class="logo">Registration Page</a>

      <!-- Hamburger icon -->
      <input class="side-menu" type="checkbox" id="side-menu"/>
      <label class="hamb" for="side-menu"><span class="hamb-line"></span></label>

       <!-- Menu -->
    <nav class="nav withoverflow">
      <div class="menu">
        <div><a class="menu-a" href="/posts">All Posts</a></div>
        <div><a class="menu-a" href="/registration">Registration</a></div>
        <div><a class="menu-a" href="/login">Login</a></div>

      </div>
    </nav>
  </header>
  <!-- Main content -->
  <main>
    <h2>Please enter information</h2>
    {{if .ErrorMessage}}
          <div class="alert alert-danger justify-content-center d-flex">{{.ErrorMessage}}</div>
      {{end}}
    <section class="w-100 p-4 d-flex justify-content-center pb-4">
      
      <div style="width: 26rem;">
        <!-- Pills content -->
        <div class="tab-content">
          <div class="tab-pane fade show active" id="pills-login" role="tabpanel" aria-labelledby="tab-login">
            <form action="/registration" method="POST">
              <!-- Username input -->
              <div class="form-outline mb-4">
                <input type="text" id="registerUsername" name="registerUsername" class="form-control" required>
                <label class="form-label" for="registerUsername" style="margin-left: 0px;">Username</label>
              <div class="form-notch"><div class="form-notch-leading" style="width: 9px;"></div><div class="form-notch-middle" style="width: 8px;"></div><div class="form-notch-trailing"></div></div></div>

              <!-- Email input -->
              <div class="form-outline mb-4">
                <input type="email" id="registerEmail" name="registerEmail" class="form-control" required>
                <label class="form-label" for="registerEmail" style="margin-left: 0px;">Email</label>
              <div class="form-notch"><div class="form-notch-leading" style="width: 9px;"></div><div class="form-notch-middle" style="width: 8px;"></div><div class="form-notch-trailing"></div></div></div>

              <!-- Password input -->
              <div class="form-outline mb-4">
                <input type="password" id="registerPassword" name="registerPassword" class="form-control" required>
                <label class="form-label" for="registerPassword" style="margin-left: 0px;">Password</label>
              <div class="form-notch"><div class="form-notch-leading" style="width: 9px;"></div><div class="form-notch-middle" style="width: 8px;"></div><div class="form-notch-trailing"></div></div></div>

              <!-- Confirm Password input -->
              <div class="form-outline mb-4">
                <input type="password" id="registerConfirmPassword" name="registerConfirmPassword" class="form-control" required>
                <label class="form-label" for="registerConfirmPassword" style="margin-left: 0px;">Repeat password</label>
              <div class="form-notch"><div class="form-notch-leading" style="width: 9px;"></div><div class="form-notch-middle" style="width: 8px;"></div><div class="form-notch-trailing"></div></div></div>
                
              <!-- Checkbox -->
                <div class="form-check d-flex justify-content-center mb-4">
                  <input class="form-check-input me-2" type="checkbox" value="" id="registerCheck" checked="" aria-describedby="registerCheckHelpText" required>
                  <label class="form-check-label" for="registerCheck">
                    I have read and agree to the terms
                  </label>
                </div>

                  <!-- Submit button -->
                <button type="submit" class="btn btn-primary btn-block mb-4">Sign in</button>
            </form>
          </div>
        </div>
        <!-- Pills content -->
      </div>
    </section>
  </main>
</body>
<script>
  $(document).ready(function() {
    // Function to check if password and confirm password fields match
    function checkPasswordMatch() {
      var password = $("#registerPassword").val();
      var confirmPassword = $("#registerConfirmPassword").val();
      
      // Check if the values match
      if (password != confirmPassword) {
        $("#passwordError").html("Passwords do not match");
        $("#registerConfirmPassword")[0].setCustomValidity("Passwords do not match");
      } else {
        $("#passwordError").html("");
        $("#registerConfirmPassword")[0].setCustomValidity("");
      }
    }
    
    // Bind the checkPasswordMatch function to the keyup event on both password fields
    $("#registerPassword, #registerConfirmPassword").keyup(checkPasswordMatch);
    
    // Bind the checkPasswordMatch function to the submit event on the form
    $("#registerForm").submit(function(event) {
      if ($("#registerConfirmPassword")[0].checkValidity() === false) {
        event.preventDefault();
        checkPasswordMatch();
      }
    });
  });
</script>
</html>

